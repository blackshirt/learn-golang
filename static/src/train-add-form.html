<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../bower_components/iron-form/iron-form.html">
<link rel="import" href="../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../bower_components/paper-item/paper-item.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">

<link rel="import" href="shared-styles.html">

<dom-module id="train-add-form">
	<template>
		
		<style include="shared-styles">
		
			:host {
        display: block;

        padding: 10px;
			}
			paper-dialog {
    		position: fixed;
    		top: auto;
    		right: auto;
    		width: 400px;
				max-width: 400px;
    		height: auto;
    		overflow: auto;
				margin: 0px;				
  		}
			 
  	
		</style>
		<iron-form id="addTrainForm">
				<form>
					<template is="dom-if" if="[[error]]">
        		<p class="alert-error"><strong>Error:</strong> [[error]]</p>
      		</template>
					<paper-input name="name" type="text" value="{{formData.name}}" placeholder="Nama Diklat" auto-validate required error-message="Input title diklat!!"></paper-input>
      		<paper-input name="description" type="text" value="{{formData.description}}" placeholder="Deskripsi" auto-validate required error-message="Input deskripsi diklat!!"></paper-input>
			
					<paper-dropdown-menu label="Kategory" selected-item="{{selectedItem}}" selected-item-label="{{selected}}" auto-validate required error-message="Pilih satu!!">
						<paper-listbox	 class="dropdown-content" slot="dropdown-content" attr-for-selected="value" selected="{{formData.category}}">
							<template is="dom-repeat" items="[[categories]]">
								<paper-item value="[[item.id]]">[[item.id]] - [[item.category_name]]</paper-item>
							</template>
  					</paper-listbox>
					</paper-dropdown-menu>
					<input is="iron-input" name="category" type="hidden" value$="[[formData.category]]">	
			
      		<paper-input name="begin" type="date" value="{{formData.begin}}" placeholder="Mulai" auto-validate required error-message="Input mulai diklat!!"></paper-input>
      		<paper-input name="end" type="date" value="{{formData.end}}" placeholder="Kelar" auto-validate required error-message="Input selesai diklat!!"></paper-input>
			
					<paper-dropdown-menu label="Penyelenggara" selected-item="{{selectedItem}}" selected-item-label="{{selected}}" required auto-validate error-message="Pilih satu!!">
						<paper-listbox	 class="dropdown-content" slot="dropdown-content" attr-for-selected="value" selected="{{formData.penyelenggara}}">
							<template is="dom-repeat" items="[[penyelenggara]]">
								<paper-item value="[[item.id]]">[[item.id]] - [[item.short_name]]</paper-item>
							</template>
  					</paper-listbox>
					</paper-dropdown-menu>
					<input is="iron-input" name="penyelenggara" type="hidden" value$="[[formData.penyelenggara]]">
      
					<paper-input name="location" type="text" value="{{formData.location}}" placeholder="Location" auto-validate required error-message="Input selesai diklat!!"></paper-input>
      		<paper-input name="address" type="text" value="{{formData.address}}" placeholder="Address" auto-validate required error-message="Input alamat diklat!!"></paper-input>
      		<paper-input name="city" type="text" value="{{formData.city}}" placeholder="City" auto-validate required error-message="Input city diklat!!"></paper-input>
      		<paper-input name="jp" type="number" value="{{formData.jp}}" placeholder="JP" auto-validate required error-message="Input jampel diklat!!"></paper-input>
      
					<div class="wrapper-btns">
        		<paper-button id="send" raised class="primary" on-tap="postProcessing">Send to server ..</paper-button>
      		</div>
				</form>
			</iron-form>
		
	</template>

	<script>
		class TrainAddForm extends Polymer.Element {
			static get is () { 
				return 'train-add-form'; 
			}
			toggleDialog() {
				this.$.mydialog.toggle();
			}
		}
		window.customElements.define(TrainAddForm.is, TrainAddForm);
	</script>
</dom-module>